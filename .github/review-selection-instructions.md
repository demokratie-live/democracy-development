# Vorgaben für Code-Reviews (Copilot)

- Einhaltung des Stils: Überprüfe, ob der Code den projektweiten Stilvorgaben entspricht. Sind Formatierung und Syntax konsistent (gemäß Prettier/ESLint-Regeln)? Werden sinnvolle Namen für Variablen, Funktionen und Klassen verwendet? Copilot sollte auf Inkonsistenzen oder Verstöße gegen Style Guides hinweisen (z.B. ungenutzte Variablen, magische Werte ohne Erklärung).
- Codequalität & Wartbarkeit: Achte auf duplizierten oder unnötig komplizierten Code. Schlägt der geänderte Code Redundanzen vor, sollten Zusammenfassungen oder Auslagerungen empfohlen werden. Wenn eine Funktion zu viele Aufgaben übernimmt oder sehr lang ist, sollte Copilot vorschlagen, diese in kleinere Einheiten zu refaktorieren.
- Fehler und Randfälle: Prüfe, ob mögliche Fehlerbedingungen bedacht sind. Fehlen Null-/Undefined-Prüfungen an entscheidenden Stellen? Gibt es Szenarien, in denen die Logik versagt (z.B. Division durch null, leere Listen)? Copilot sollte solche Stellen identifizieren und dem Entwickler nahelegen, entsprechende Checks oder Try-Catch-Blöcke einzufügen.
- Performance: Untersuche den Code auf potenzielle Performance-Probleme. Beispielsweise: Werden ineffiziente Algorithmen oder mehrfach redundante Datenbankabfragen verwendet? Findet sich Blockierung im Hauptthread im Frontend (lange Synchronoperationen)? Copilot soll auf Optimierungspotenzial hinweisen, etwa Nutzung effizienterer Methoden oder Caching where appropriate.
- Sicherheitsaspekte: Vergewissere Dich, dass der Code gängigen Sicherheitsstandards entspricht. Copilot sollte z.B. prüfen, ob Eingaben validiert/gesäubert werden, ob bei sicherheitsrelevanten Funktionen (Authentifizierung, Datei-Uploads, Datenbankzugriff) alle notwendigen Checks vorhanden sind. Sensible Informationen dürfen nicht im Klartext protokolliert oder zurückgegeben werden.
- Architekturprinzipien: Überprüfe, ob der neue Code mit der bisherigen Architektur im Einklang steht. Verletzt eine Änderung die Schichtentrennung (z.B. direktes SQL im Controller statt über ein Repository/Service)? Ist die Verantwortlichkeit korrekt zugeordnet? Copilot sollte empfehlen, den Code anzupassen, falls z.B. Geschäftslogik in der Präsentationsschicht auftaucht oder umgekehrt.
- Tests: Stelle fest, ob für die Änderungen entsprechende Tests existieren oder benötigt werden. Copilot kann darauf hinweisen, wenn neue öffentliche Methoden oder komplexe Funktionen keine begleitenden Tests haben. Gegebenenfalls sollte vorgeschlagen werden, noch Tests hinzuzufügen, um die Änderung abzusichern.
- Dokumentation & Kommentare: Prüfe, ob wichtige Änderungen ausreichend dokumentiert sind – entweder im Code durch Kommentare oder in begleitender Dokumentation (README, Wiki). Falls ein neuer Endpunkt oder Module hinzugekommen ist, sollte Copilot empfehlen, die öffentliche Dokumentation zu aktualisieren.
- Feedback-Stil: Formuliere Reviews konstruktiv und konkret. Copilot sollte höflich auf Probleme hinweisen und idealerweise Lösungsvorschläge bieten. Statt „Dieser Code ist schlecht“ lieber „Dieser Code könnte Probleme verursachen, weil… eventuell könnte man XYZ tun, um es zu verbessern.“ Sachliche, hilfsbereite Kommentare stehen im Vordergrund.
